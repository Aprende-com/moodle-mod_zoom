{"version":3,"sources":["../src/form.js"],"names":["define","$","autocomplete","str","notification","SELECTORS","REPEAT_SELECT","REPEAT_INTERVAL","REPEAT_INTERVAL_DAILY","REPEAT_INTERVAL_WEEKLY","REPEAT_INTERVAL_MONTHLY","REPEAT_INTERVAL_OPTIONS","START_TIME","DURATION","RECURRING","OPTION_JBH","OPTION_WAITING_ROOM","REPEAT_OPTIONS","REPEAT_OPTION_NONE","REPEAT_OPTION_DAILY","REPEAT_OPTION_WEEKLY","REPEAT_OPTION_MONTHLY","REPEAT_MAX_OPTIONS","toggleStartTimeDuration","disabled","repeatVal","parseInt","val","prop","toggleRepeatIntervalText","hide","repeatSelectVal","show","limitRepeatValues","selectedValue","each","value","TabsComponent","tabsColumn","tabsContentColumn","initialTabsCount","emptyAlert","countTabs","init","length","removeClass","buildTab","item","tab","element","tabLink","text","name","attr","addClass","buildTabContent","tabContent","addTab","append","deleteTab","remove","countActiveTabs","trigger","BreakoutroomsEditor","roomsListColumn","roomsList","addBtn","deleteBtn","roomsDataColumn","roomItemToClone","html","roomItemDataToClone","initialRoomsCount","tabsComponent","addroomEvent","deleteroomEvent","buildAutocompleteComponents","thisObject","click","newRoomName","newRoomElement","newRoomDataElement","newRoomIndex","roomParticipantsSelectId","buildAutocompleteComponent","roomGroupsSelectId","addedTab","content","on","thisItem","closest","thisItemId","id","placeholder","get_strings","key","component","then","langstrings","placeholderString","noSelectionString","enhance","fail","exception","optionJoinBeforeHost","optionWaitingRoom","change","is","breakoutroomsEditor"],"mappings":"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","sourcesContent":["// This file is part of the Zoom plugin for Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Populates or de-populates password field based on whether the\n * password is required or not.\n *\n * @copyright  2018 UC Regents\n * @author     Kubilay Agi\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/form-autocomplete', 'core/str', 'core/notification'], function($, autocomplete, str, notification) {\n\n    /**\n     * CSS selectors used throughout the file.\n     *\n     * @type {object}\n     */\n    var SELECTORS = {\n        REPEAT_SELECT: 'select[name=\"recurrence_type\"]',\n        REPEAT_INTERVAL: '.repeat_interval',\n        REPEAT_INTERVAL_DAILY: '#interval_daily',\n        REPEAT_INTERVAL_WEEKLY: '#interval_weekly',\n        REPEAT_INTERVAL_MONTHLY: '#interval_monthly',\n        REPEAT_INTERVAL_OPTIONS: 'select[name=\"repeat_interval\"] option',\n        START_TIME: 'select[name*=\"start_time\"]',\n        DURATION: '*[name*=\"duration\"]',\n        RECURRING: 'input[name=\"recurring\"][type!=\"hidden\"]',\n        OPTION_JBH: 'input[name=\"option_jbh\"][type!=\"hidden\"]',\n        OPTION_WAITING_ROOM: 'input[name=\"option_waiting_room\"][type!=\"hidden\"]'\n    };\n\n    /**\n     * Repeat interval options.\n     *\n     * @type {object}\n     */\n    var REPEAT_OPTIONS = {\n        REPEAT_OPTION_NONE: 0,\n        REPEAT_OPTION_DAILY: 1,\n        REPEAT_OPTION_WEEKLY: 2,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The max values for each repeat option.\n     *\n     * @type {object}\n     */\n    var REPEAT_MAX_OPTIONS = {\n        REPEAT_OPTION_DAILY: 90,\n        REPEAT_OPTION_WEEKLY: 12,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The init function.\n     */\n    var init = function() {\n        var optionJoinBeforeHost = $(SELECTORS.OPTION_JBH);\n        var optionWaitingRoom = $(SELECTORS.OPTION_WAITING_ROOM);\n        optionJoinBeforeHost.change(function() {\n            if (optionJoinBeforeHost.is(':checked') === true) {\n                optionWaitingRoom.prop('checked', false);\n            }\n        });\n        optionWaitingRoom.change(function() {\n            if (optionWaitingRoom.is(':checked') === true) {\n                optionJoinBeforeHost.prop('checked', false);\n            }\n        });\n\n        // First toggle the values based on initial selections.\n        toggleStartTimeDuration();\n        toggleRepeatIntervalText();\n        limitRepeatValues();\n        // Add listerner to \"Repeat Every\" drop-down.\n        $(SELECTORS.REPEAT_SELECT).change(function() {\n            toggleStartTimeDuration();\n            toggleRepeatIntervalText();\n            limitRepeatValues();\n        });\n        // Add listener for the \"Recurring\" checkbox\n        $(SELECTORS.RECURRING).change(function() {\n            toggleStartTimeDuration();\n        });\n\n        var breakoutroomsEditor = new BreakoutroomsEditor();\n        breakoutroomsEditor.init();\n    };\n\n    /**\n     * Toggle start time and duration elements.\n     */\n    var toggleStartTimeDuration = function() {\n        // Disable start time and duration if \"No Fixed Time\" recurring meeting/webinar selected.\n        var disabled = false;\n        var repeatVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if ($(SELECTORS.RECURRING).prop('checked') && repeatVal === REPEAT_OPTIONS.REPEAT_OPTION_NONE) {\n            disabled = true;\n        }\n        $(SELECTORS.START_TIME).prop('disabled', disabled);\n        $(SELECTORS.DURATION).prop('disabled', disabled);\n    };\n\n    /**\n     * Toggle the text based on repeat type.\n     * To show either Days, Weeks or Months\n     */\n    var toggleRepeatIntervalText = function() {\n        $(SELECTORS.REPEAT_INTERVAL).hide();\n        var repeatSelectVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_DAILY) {\n            $(SELECTORS.REPEAT_INTERVAL_DAILY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n            $(SELECTORS.REPEAT_INTERVAL_WEEKLY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n            $(SELECTORS.REPEAT_INTERVAL_MONTHLY).show();\n        }\n    };\n\n    /**\n     * Limit the options shown in the drop-down based on repeat type selected.\n     * Max value for daily meeting is 90.\n     * Max value for weekly meeting is 12.\n     * Max value for monthly meeting is 3.\n     */\n    var limitRepeatValues = function() {\n        var selectedValue = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        // Restrict options if weekly or monthly option selected.\n        $(SELECTORS.REPEAT_INTERVAL_OPTIONS).each(function() {\n            if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                    $(this).hide();\n                }\n            } else if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                    $(this).hide();\n                }\n            } else {\n                $(this).show();\n            }\n        });\n    };\n\n    /**\n     * Tabs component.\n     * @param {object} tabsColumn\n     * @param {object} tabsContentColumn\n     * @param {int}    initialTabsCount\n     * @param {object} emptyAlert\n     */\n    var TabsComponent  = function (tabsColumn, tabsContentColumn, initialTabsCount, emptyAlert) {\n        this.tabsColumn = tabsColumn;\n        this.tabsContentColumn = tabsContentColumn;\n        this.emptyAlert = emptyAlert;\n        this.countTabs = initialTabsCount;\n\n        /**\n        * init tabs.\n        */\n        this.init = function() {\n            var countTabs = $(\"li\", this.tabsColumn).length;\n            if (!countTabs) {\n                this.emptyAlert.removeClass('hidden');\n            }\n        };\n\n        /**\n        * Build tab.\n        * @param {object} item\n        */\n        this.buildTab = function(item) {\n            var tab = item.tab.element;\n            var tabLink = $(\".nav-link\", tab);\n\n            // Setting tab name.\n            $(\".tab-name\", tabLink).text(item.tab.name);\n\n            // Setting tab href.\n            tabLink.attr('href', '#link'+this.countTabs);\n\n            // Activating tab\n            $(\"li a\", this.tabsColumn).removeClass('active');\n            tabLink.addClass('active');\n\n            return tab;\n        };\n\n        /**\n         * Build tab content.\n         * @param {object} item\n         */\n        this.buildTabContent = function(item) {\n            var tabContent = item.tabContent.element;\n\n            // Setting tabContent id.\n            tabContent.attr('id', 'link'+this.countTabs);\n\n            // Activating tabContent.\n            $(\".tab-pane\", this.tabsContentColumn).removeClass('active');\n            tabContent.addClass('active');\n\n            return tabContent;\n        };\n\n\n        /**\n        * Add tab.\n        * @param {object} item\n        */\n        this.addTab = function(item) {\n            var tab = this.buildTab(item);\n            var tabContent = this.buildTabContent(item);\n\n            this.emptyAlert.addClass('hidden');\n            $(\"ul\", this.tabsColumn).append(tab);\n            $(\".tab-content\", this.tabsContentColumn).append(tabContent);\n\n            return {\"element\": tab, \"content\": tabContent};\n        };\n\n        /**\n         * Delete tab.\n         * @param {object} item\n         */\n        this.deleteTab = function(item) {\n            var tab = item;\n            var tabContent = $($('a', tab).attr('href'));\n\n            tab.remove();\n            tabContent.remove();\n\n            var countTabs = $(\"li\", this.tabsColumn).length;\n            if (!countTabs) {\n                this.emptyAlert.removeClass('hidden');\n            } else {\n                var countActiveTabs = $(\"li a.active\", this.tabsColumn).length;\n                if (!countActiveTabs) {\n                    $(\"li:first-child a\", this.tabsColumn).trigger('click');\n                }\n            }\n        };\n    };\n\n    /**\n     * breakout rooms editor.\n     */\n    var BreakoutroomsEditor = function () {\n        this.roomsListColumn = $(\"#meeting-rooms-list\");\n        this.roomsList = $(\"ul\", this.roomsListColumn);\n        this.addBtn = $(\"#add-room\", this.roomsListColumn);\n        this.emptyAlert = $(\".empty-alert\", this.roomsListColumn);\n        this.deleteBtn = $(\".delete-room\", this.roomsListColumn);\n        this.roomsDataColumn = $(\"#meeting-rooms-data\");\n        this.roomItemToClone = $('#rooms-list-item').html();\n        this.roomItemDataToClone = $('#rooms-list-item-data').html();\n        this.initialRoomsCount = parseInt(this.roomsListColumn.attr('initial-rooms-count'));\n        this.tabsComponent = new TabsComponent(this.roomsListColumn, this.roomsDataColumn, this.initialRoomsCount, this.emptyAlert);\n\n        // Add room event.\n        this.init = function() {\n            this.addroomEvent();\n            this.deleteroomEvent();\n            this.buildAutocompleteComponents();\n            this.tabsComponent.init();\n        };\n        // Add room event.\n        this.addroomEvent = function() {\n            var thisObject = this;\n\n            // Adding addroom button click event.\n            thisObject.addBtn.click(function() {\n                thisObject.tabsComponent.countTabs++;\n\n                var newRoomName = \"Room\"+' '+thisObject.tabsComponent.countTabs;\n                var newRoomElement = $(thisObject.roomItemToClone);\n                var newRoomDataElement = $(thisObject.roomItemDataToClone);\n                var newRoomIndex = thisObject.tabsComponent.countTabs;\n\n                // New room name.\n                var roomNameInputId = 'room-name-'+newRoomIndex;\n                $(\"input\", newRoomDataElement).attr('name', roomNameInputId);\n                $(\"input\", newRoomDataElement).val(newRoomName);\n\n                // New room participants select.\n                var roomParticipantsSelectId = 'participants-'+newRoomIndex;\n                $(\".room-participants\", newRoomDataElement).attr('id', roomParticipantsSelectId);\n                $(\".room-participants\", newRoomDataElement).attr('name', roomParticipantsSelectId);\n                thisObject.buildAutocompleteComponent(roomParticipantsSelectId, 'addparticipant');\n\n                // New room participant groups select.\n                var roomGroupsSelectId = 'groups-'+newRoomIndex;\n                $(\".room-groups\", newRoomDataElement).attr('id', roomGroupsSelectId);\n                $(\".room-groups\", newRoomDataElement).attr('name', roomGroupsSelectId);\n                thisObject.buildAutocompleteComponent(roomGroupsSelectId, 'addparticipantgroup');\n\n                var newRoom = {\"tab\": {\"name\": newRoomName, \"element\": newRoomElement},\n                    \"tabContent\": {\"element\": newRoomDataElement}};\n\n                var addedTab = thisObject.tabsComponent.addTab(newRoom);\n\n                // Adding room name change event.\n                $(\"input\", addedTab.content).on(\"change keyup paste\", function() {\n                    $(\".tab-name\", addedTab.element).text(this.value);\n                });\n\n                // Adding new room delete button click event.\n                $(\"li:last .delete-room\", thisObject.roomsList).click(function() {\n                    var thisItem = $(this).closest('li');\n                    thisObject.tabsComponent.deleteTab(thisItem);\n                });\n            });\n        };\n\n        // Delet delete event.\n        this.deleteroomEvent = function() {\n            var thisObject = this;\n\n            // Adding deleteroom button click event.\n            thisObject.deleteBtn.click(function() {\n                var thisItem = $(this).closest('li');\n                thisObject.tabsComponent.deleteTab(thisItem);\n            });\n        };\n\n        /**\n         * Build autocomplete components.\n         */\n        this.buildAutocompleteComponents = function() {\n            var thisObject = this;\n            $( \".room-participants\" ).each(function() {\n                var thisItemId = $(this).attr('id');\n                thisObject.buildAutocompleteComponent(thisItemId, 'addparticipant');\n            });\n\n            $( \".room-groups\" ).each(function() {\n                var thisItemId = $(this).attr('id');\n                thisObject.buildAutocompleteComponent(thisItemId, 'addparticipantgroup');\n            });\n        };\n\n        /**\n         * Build autocomplete component.\n         * @param {string} id\n         * @param {string} placeholder\n         */\n        this.buildAutocompleteComponent = function(id, placeholder) {\n            var stringkeys = [{key: placeholder, component: 'zoom'}, {key: 'selectionarea', component: 'zoom'}];\n            str.get_strings(stringkeys).then(function(langstrings) {\n                var placeholderString = langstrings[0];\n                var noSelectionString = langstrings[1];\n\n                autocomplete.enhance('#'+id, false, '', placeholderString, false, true, noSelectionString, true);\n\n            }).fail(notification.exception);\n        };\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"form.min.js"}
