{"version":3,"sources":["../src/form.js"],"names":["define","$","autocomplete","str","notification","SELECTORS","REPEAT_SELECT","REPEAT_INTERVAL","REPEAT_INTERVAL_DAILY","REPEAT_INTERVAL_WEEKLY","REPEAT_INTERVAL_MONTHLY","REPEAT_INTERVAL_OPTIONS","START_TIME","DURATION","RECURRING","OPTION_JBH","OPTION_WAITING_ROOM","REPEAT_OPTIONS","REPEAT_OPTION_NONE","REPEAT_OPTION_DAILY","REPEAT_OPTION_WEEKLY","REPEAT_OPTION_MONTHLY","REPEAT_MAX_OPTIONS","toggleStartTimeDuration","disabled","repeatVal","parseInt","val","prop","toggleRepeatIntervalText","hide","repeatSelectVal","show","limitRepeatValues","selectedValue","each","value","TabsComponent","tabsColumn","tabsContentColumn","initialTabsCount","emptyAlert","countTabs","buildTab","item","tab","element","tabLink","attr","text","name","removeClass","addClass","buildTabContent","tabContent","addTab","append","deleteTab","remove","length","countActiveTabs","trigger","BreakoutroomsEditor","roomsListColumn","roomsList","addBtn","deleteBtn","roomsDataColumn","roomItemToClone","html","roomItemDataToClone","initialRoomsCount","tabsComponent","init","addRoomEvent","deleteRoomEvent","countRooms","changeRoomNameEvent","buildAutocompleteComponents","thisObject","click","newRoomName","newRoomElement","newRoomDataElement","newRoomIndex","roomNameInputId","prev","next","roomParticipantsSelectId","roomGroupsSelectId","addedTab","thisItem","closest","content","on","newHiddenValue","thisValue","replace","buildAutocompleteComponent","tabIdArr","split","tabIndex","thisItemId","id","placeholder","get_strings","key","component","then","langstrings","placeholderString","noSelectionString","enhance","fail","exception","optionJoinBeforeHost","optionWaitingRoom","change","is","breakoutroomsEditor"],"mappings":"AAwBAA,OAAM,iBAAC,CAAC,QAAD,CAAW,wBAAX,CAAqC,UAArC,CAAiD,mBAAjD,CAAD,CAAwE,SAASC,CAAT,CAAYC,CAAZ,CAA0BC,CAA1B,CAA+BC,CAA/B,CAA6C,IAOnHC,CAAAA,CAAS,CAAG,CACZC,aAAa,CAAE,kCADH,CAEZC,eAAe,CAAE,kBAFL,CAGZC,qBAAqB,CAAE,iBAHX,CAIZC,sBAAsB,CAAE,kBAJZ,CAKZC,uBAAuB,CAAE,mBALb,CAMZC,uBAAuB,CAAE,yCANb,CAOZC,UAAU,CAAE,8BAPA,CAQZC,QAAQ,CAAE,uBARE,CASZC,SAAS,CAAE,6CATC,CAUZC,UAAU,CAAE,8CAVA,CAWZC,mBAAmB,CAAE,uDAXT,CAPuG,CA0BnHC,CAAc,CAAG,CACjBC,kBAAkB,CAAE,CADH,CAEjBC,mBAAmB,CAAE,CAFJ,CAGjBC,oBAAoB,CAAE,CAHL,CAIjBC,qBAAqB,CAAE,CAJN,CA1BkG,CAsCnHC,CAAkB,CAAG,CACrBH,mBAAmB,CAAE,EADA,CAErBC,oBAAoB,CAAE,EAFD,CAGrBC,qBAAqB,CAAE,CAHF,CAtC8F,CAmFnHE,CAAuB,CAAG,UAAW,IAEjCC,CAAAA,CAAQ,GAFyB,CAGjCC,CAAS,CAAGC,QAAQ,CAACzB,CAAC,CAACI,CAAS,CAACC,aAAX,CAAD,CAA2BqB,GAA3B,EAAD,CAAmC,EAAnC,CAHa,CAIrC,GAAI1B,CAAC,CAACI,CAAS,CAACS,SAAX,CAAD,CAAuBc,IAAvB,CAA4B,SAA5B,GAA0CH,CAAS,GAAKR,CAAc,CAACC,kBAA3E,CAA+F,CAC3FM,CAAQ,GACX,CACDvB,CAAC,CAACI,CAAS,CAACO,UAAX,CAAD,CAAwBgB,IAAxB,CAA6B,UAA7B,CAAyCJ,CAAzC,EACAvB,CAAC,CAACI,CAAS,CAACQ,QAAX,CAAD,CAAsBe,IAAtB,CAA2B,UAA3B,CAAuCJ,CAAvC,CACH,CA5FsH,CAkGnHK,CAAwB,CAAG,UAAW,CACtC5B,CAAC,CAACI,CAAS,CAACE,eAAX,CAAD,CAA6BuB,IAA7B,GACA,GAAIC,CAAAA,CAAe,CAAGL,QAAQ,CAACzB,CAAC,CAACI,CAAS,CAACC,aAAX,CAAD,CAA2BqB,GAA3B,EAAD,CAAmC,EAAnC,CAA9B,CACA,GAAII,CAAe,GAAKd,CAAc,CAACE,mBAAvC,CAA4D,CACxDlB,CAAC,CAACI,CAAS,CAACG,qBAAX,CAAD,CAAmCwB,IAAnC,EACH,CAFD,IAEO,IAAID,CAAe,GAAKd,CAAc,CAACG,oBAAvC,CAA6D,CAChEnB,CAAC,CAACI,CAAS,CAACI,sBAAX,CAAD,CAAoCuB,IAApC,EACH,CAFM,IAEA,IAAID,CAAe,GAAKd,CAAc,CAACI,qBAAvC,CAA8D,CACjEpB,CAAC,CAACI,CAAS,CAACK,uBAAX,CAAD,CAAqCsB,IAArC,EACH,CACJ,CA5GsH,CAoHnHC,CAAiB,CAAG,UAAW,CAC/B,GAAIC,CAAAA,CAAa,CAAGR,QAAQ,CAACzB,CAAC,CAACI,CAAS,CAACC,aAAX,CAAD,CAA2BqB,GAA3B,EAAD,CAAmC,EAAnC,CAA5B,CAEA1B,CAAC,CAACI,CAAS,CAACM,uBAAX,CAAD,CAAqCwB,IAArC,CAA0C,UAAW,CACjD,GAAID,CAAa,GAAKjB,CAAc,CAACG,oBAArC,CAA2D,CACvD,GAAI,KAAKgB,KAAL,CAAad,CAAkB,CAACF,oBAApC,CAA0D,CACtDnB,CAAC,CAAC,IAAD,CAAD,CAAQ6B,IAAR,EACH,CACJ,CAJD,IAIO,IAAII,CAAa,GAAKjB,CAAc,CAACI,qBAArC,CAA4D,CAC/D,GAAI,KAAKe,KAAL,CAAad,CAAkB,CAACD,qBAApC,CAA2D,CACvDpB,CAAC,CAAC,IAAD,CAAD,CAAQ6B,IAAR,EACH,CACJ,CAJM,IAIA,CACH7B,CAAC,CAAC,IAAD,CAAD,CAAQ+B,IAAR,EACH,CACJ,CAZD,CAaH,CApIsH,CA6InHK,CAAa,CAAG,SAASC,CAAT,CAAqBC,CAArB,CAAwCC,CAAxC,CAA0DC,CAA1D,CAAsE,CACtF,KAAKH,UAAL,CAAkBA,CAAlB,CACA,KAAKC,iBAAL,CAAyBA,CAAzB,CACA,KAAKE,UAAL,CAAkBA,CAAlB,CACA,KAAKC,SAAL,CAAiBF,CAAjB,CAOA,KAAKG,QAAL,CAAgB,SAASC,CAAT,CAAe,IACvBC,CAAAA,CAAG,CAAGD,CAAI,CAACC,GAAL,CAASC,OADQ,CAEvBC,CAAO,CAAG9C,CAAC,CAAC,WAAD,CAAc4C,CAAd,CAFY,CAK3BA,CAAG,CAACG,IAAJ,CAAS,IAAT,CAAe,OAAS,KAAKN,SAA7B,EAGAzC,CAAC,CAAC,WAAD,CAAc8C,CAAd,CAAD,CAAwBE,IAAxB,CAA6BL,CAAI,CAACC,GAAL,CAASK,IAAtC,EAGAH,CAAO,CAACC,IAAR,CAAa,MAAb,CAAqB,QAAU,KAAKN,SAApC,EAGAzC,CAAC,CAAC,MAAD,CAAS,KAAKqC,UAAd,CAAD,CAA2Ba,WAA3B,CAAuC,QAAvC,EACAJ,CAAO,CAACK,QAAR,CAAiB,QAAjB,EAEA,MAAOP,CAAAA,CACV,CAlBD,CAyBA,KAAKQ,eAAL,CAAuB,SAAST,CAAT,CAAe,CAClC,GAAIU,CAAAA,CAAU,CAAGV,CAAI,CAACU,UAAL,CAAgBR,OAAjC,CAGAQ,CAAU,CAACN,IAAX,CAAgB,IAAhB,CAAsB,OAAS,KAAKN,SAApC,EAGAzC,CAAC,CAAC,WAAD,CAAc,KAAKsC,iBAAnB,CAAD,CAAuCY,WAAvC,CAAmD,QAAnD,EACAG,CAAU,CAACF,QAAX,CAAoB,QAApB,EAEA,MAAOE,CAAAA,CACV,CAXD,CAmBA,KAAKC,MAAL,CAAc,SAASX,CAAT,CAAe,IACrBC,CAAAA,CAAG,CAAG,KAAKF,QAAL,CAAcC,CAAd,CADe,CAErBU,CAAU,CAAG,KAAKD,eAAL,CAAqBT,CAArB,CAFQ,CAIzB,KAAKH,UAAL,CAAgBW,QAAhB,CAAyB,QAAzB,EACAnD,CAAC,CAAC,IAAD,CAAO,KAAKqC,UAAZ,CAAD,CAAyBkB,MAAzB,CAAgCX,CAAhC,EACA5C,CAAC,CAAC,cAAD,CAAiB,KAAKsC,iBAAtB,CAAD,CAA0CiB,MAA1C,CAAiDF,CAAjD,EAEA,MAAO,CAAC,QAAWT,CAAZ,CAAiB,QAAWS,CAA5B,CACV,CATD,CAeA,KAAKG,SAAL,CAAiB,SAASb,CAAT,CAAe,IACxBC,CAAAA,CAAG,CAAGD,CADkB,CAExBU,CAAU,CAAGrD,CAAC,CAACA,CAAC,CAAC,GAAD,CAAM4C,CAAN,CAAD,CAAYG,IAAZ,CAAiB,MAAjB,CAAD,CAFU,CAI5BH,CAAG,CAACa,MAAJ,GACAJ,CAAU,CAACI,MAAX,GAEA,GAAIhB,CAAAA,CAAS,CAAGzC,CAAC,CAAC,IAAD,CAAO,KAAKqC,UAAZ,CAAD,CAAyBqB,MAAzC,CACA,GAAI,CAACjB,CAAL,CAAgB,CACZ,KAAKD,UAAL,CAAgBU,WAAhB,CAA4B,QAA5B,CACH,CAFD,IAEO,CACH,GAAIS,CAAAA,CAAe,CAAG3D,CAAC,CAAC,aAAD,CAAgB,KAAKqC,UAArB,CAAD,CAAkCqB,MAAxD,CACA,GAAI,CAACC,CAAL,CAAsB,CAClB3D,CAAC,CAAC,kBAAD,CAAqB,KAAKqC,UAA1B,CAAD,CAAuCuB,OAAvC,CAA+C,OAA/C,CACH,CACJ,CACJ,CACJ,CApOsH,CAyOnHC,CAAmB,CAAG,UAAW,CACjC,KAAKC,eAAL,CAAuB9D,CAAC,CAAC,qBAAD,CAAxB,CACA,KAAK+D,SAAL,CAAiB/D,CAAC,CAAC,IAAD,CAAO,KAAK8D,eAAZ,CAAlB,CACA,KAAKE,MAAL,CAAchE,CAAC,CAAC,WAAD,CAAc,KAAK8D,eAAnB,CAAf,CACA,KAAKtB,UAAL,CAAkBxC,CAAC,CAAC,cAAD,CAAiB,KAAK8D,eAAtB,CAAnB,CACA,KAAKG,SAAL,CAAiBjE,CAAC,CAAC,cAAD,CAAiB,KAAK8D,eAAtB,CAAlB,CACA,KAAKI,eAAL,CAAuBlE,CAAC,CAAC,qBAAD,CAAxB,CACA,KAAKmE,eAAL,CAAuBnE,CAAC,CAAC,kBAAD,CAAD,CAAsBoE,IAAtB,EAAvB,CACA,KAAKC,mBAAL,CAA2BrE,CAAC,CAAC,uBAAD,CAAD,CAA2BoE,IAA3B,EAA3B,CACA,KAAKE,iBAAL,CAAyB7C,QAAQ,CAAC,KAAKqC,eAAL,CAAqBf,IAArB,CAA0B,0BAA1B,CAAD,CAAjC,CACA,KAAKwB,aAAL,CAAqB,GAAInC,CAAAA,CAAJ,CAAkB,KAAK0B,eAAvB,CAAwC,KAAKI,eAA7C,CAA8D,KAAKI,iBAAnE,CAAsF,KAAK9B,UAA3F,CAArB,CAGA,KAAKgC,IAAL,CAAY,UAAW,CACnB,KAAKC,YAAL,GACA,KAAKC,eAAL,GACA,GAAIC,CAAAA,CAAU,CAAG3E,CAAC,CAAC,IAAD,CAAO,KAAK8D,eAAZ,CAAD,CAA8BJ,MAA/C,CACA,GAAIiB,CAAJ,CAAgB,CACZ,KAAKC,mBAAL,GACA,KAAKC,2BAAL,EACH,CAHD,IAGO,CACH,KAAKrC,UAAL,CAAgBU,WAAhB,CAA4B,QAA5B,CACH,CACJ,CAVD,CAYA,KAAKuB,YAAL,CAAoB,UAAW,CAC3B,GAAIK,CAAAA,CAAU,CAAG,IAAjB,CAGAA,CAAU,CAACd,MAAX,CAAkBe,KAAlB,CAAwB,UAAW,CAC/BD,CAAU,CAACP,aAAX,CAAyB9B,SAAzB,GAD+B,GAG3BuC,CAAAA,CAAW,CAAG,QAAeF,CAAU,CAACP,aAAX,CAAyB9B,SAH3B,CAI3BwC,CAAc,CAAGjF,CAAC,CAAC8E,CAAU,CAACX,eAAZ,CAJS,CAK3Be,CAAkB,CAAGlF,CAAC,CAAC8E,CAAU,CAACT,mBAAZ,CALK,CAM3Bc,CAAY,CAAGL,CAAU,CAACP,aAAX,CAAyB9B,SANb,CAS3B2C,CAAe,CAAG,aAAeD,CATN,CAU/BnF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CG,IAA1C,GAAiDtC,IAAjD,CAAsD,KAAtD,CAA6DqC,CAA7D,EACApF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CnC,IAA1C,CAA+C,IAA/C,CAAqDqC,CAArD,EACApF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CnC,IAA1C,CAA+C,MAA/C,CAAuDqC,CAAvD,EACApF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CxD,GAA1C,CAA8CsD,CAA9C,EACAhF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CI,IAA1C,GAAiDvC,IAAjD,CAAsD,MAAtD,CAA8D,SAAWoC,CAAX,CAA0B,GAAxF,EACAnF,CAAC,CAAC,kBAAD,CAAqBkF,CAArB,CAAD,CAA0CI,IAA1C,GAAiD5D,GAAjD,CAAqDsD,CAArD,EAGA,GAAIO,CAAAA,CAAwB,CAAG,gBAAkBJ,CAAjD,CACAnF,CAAC,CAAC,oBAAD,CAAuBkF,CAAvB,CAAD,CAA4CnC,IAA5C,CAAiD,IAAjD,CAAuDwC,CAAvD,EACAvF,CAAC,CAAC,oBAAD,CAAuBkF,CAAvB,CAAD,CAA4CnC,IAA5C,CAAiD,MAAjD,CAAyD,qBAAuBoC,CAAvB,CAAsC,KAA/F,EAGA,GAAIK,CAAAA,CAAkB,CAAG,UAAYL,CAArC,CACAnF,CAAC,CAAC,cAAD,CAAiBkF,CAAjB,CAAD,CAAsCnC,IAAtC,CAA2C,IAA3C,CAAiDyC,CAAjD,EACAxF,CAAC,CAAC,cAAD,CAAiBkF,CAAjB,CAAD,CAAsCnC,IAAtC,CAA2C,MAA3C,CAAmD,eAAiBoC,CAAjB,CAAgC,KAAnF,EAzB+B,GA+B3BM,CAAAA,CAAQ,CAAGX,CAAU,CAACP,aAAX,CAAyBjB,MAAzB,CAHD,CAAC,IAAO,CAAC,KAAQ0B,CAAT,CAAsB,QAAWC,CAAjC,CAAR,CACV,WAAc,CAAC,QAAWC,CAAZ,CADJ,CAGC,CA/BgB,CAkC/BlF,CAAC,CAAC,sBAAD,CAAyB8E,CAAU,CAACf,SAApC,CAAD,CAAgDgB,KAAhD,CAAsD,UAAW,CAC7D,GAAIW,CAAAA,CAAQ,CAAG1F,CAAC,CAAC,IAAD,CAAD,CAAQ2F,OAAR,CAAgB,IAAhB,CAAf,CACAb,CAAU,CAACP,aAAX,CAAyBf,SAAzB,CAAmCkC,CAAnC,CACH,CAHD,EAMA1F,CAAC,CAAC,kBAAD,CAAqByF,CAAQ,CAACG,OAA9B,CAAD,CAAwCC,EAAxC,CAA2C,oBAA3C,CAAiE,UAAW,CACxE,GAAIC,CAAAA,CAAc,CAAG,KAAK3D,KAA1B,CACAnC,CAAC,CAAC,IAAD,CAAD,CAAQsF,IAAR,GAAe5D,GAAf,CAAmBoE,CAAnB,EAEA9F,CAAC,CAAC,WAAD,CAAcyF,CAAQ,CAAC5C,OAAvB,CAAD,CAAiCG,IAAjC,CAAsC,KAAKb,KAA3C,CACH,CALD,EAQAnC,CAAC,CAAC,IAAMuF,CAAN,CAAiC,SAAlC,CAAD,CAA8CrD,IAA9C,CAAmD,UAAW,CAC1D,GAAI6D,CAAAA,CAAS,CAAG/F,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,OAAb,EAAsBiD,OAAtB,CAA8B,GAA9B,CAAmC,EAAnC,CAAhB,CACAhG,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,OAAb,CAAsBgD,CAAtB,CACH,CAHD,EAKA/F,CAAC,CAAC,IAAMwF,CAAN,CAA2B,SAA5B,CAAD,CAAwCtD,IAAxC,CAA6C,UAAW,CACpD,GAAI6D,CAAAA,CAAS,CAAG/F,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,OAAb,EAAsBiD,OAAtB,CAA8B,GAA9B,CAAmC,EAAnC,CAAhB,CACAhG,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,OAAb,CAAsBgD,CAAtB,CACH,CAHD,EAMAjB,CAAU,CAACmB,0BAAX,CAAsCV,CAAtC,CAAgE,gBAAhE,EACAT,CAAU,CAACmB,0BAAX,CAAsCT,CAAtC,CAA0D,qBAA1D,CACH,CA7DD,CA8DH,CAlED,CAqEA,KAAKd,eAAL,CAAuB,UAAW,CAC9B,GAAII,CAAAA,CAAU,CAAG,IAAjB,CAGAA,CAAU,CAACb,SAAX,CAAqBc,KAArB,CAA2B,UAAW,CAClC,GAAIW,CAAAA,CAAQ,CAAG1F,CAAC,CAAC,IAAD,CAAD,CAAQ2F,OAAR,CAAgB,IAAhB,CAAf,CACAb,CAAU,CAACP,aAAX,CAAyBf,SAAzB,CAAmCkC,CAAnC,CACH,CAHD,CAIH,CARD,CAWA,KAAKd,mBAAL,CAA2B,UAAW,CAClC,GAAIE,CAAAA,CAAU,CAAG,IAAjB,CAEA9E,CAAC,CAAC,IAAD,CAAO,KAAK8D,eAAZ,CAAD,CAA8B5B,IAA9B,CAAmC,UAAW,IACtCgE,CAAAA,CAAQ,CAAGlG,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,IAAb,EAAmBoD,KAAnB,CAAyB,GAAzB,CAD2B,CAEtCC,CAAQ,CAAGF,CAAQ,CAAC,CAAD,CAFmB,CAG1ClG,CAAC,CAAC,0BAA2BoG,CAA3B,CAAsC,KAAvC,CAA6CtB,CAAU,CAACZ,eAAxD,CAAD,CAA0E2B,EAA1E,CAA6E,oBAA7E,CAAmG,UAAW,CAC1G,GAAIC,CAAAA,CAAc,CAAG,KAAK3D,KAA1B,CACAnC,CAAC,CAAC,IAAD,CAAD,CAAQsF,IAAR,GAAe5D,GAAf,CAAmBoE,CAAnB,EAEA9F,CAAC,CAAC,QAAUoG,CAAV,CAAqB,YAAtB,CAAD,CAAqCpD,IAArC,CAA0C,KAAKb,KAA/C,CACH,CALD,CAMH,CATD,CAUH,CAbD,CAkBA,KAAK0C,2BAAL,CAAmC,UAAW,CAC1C,GAAIC,CAAAA,CAAU,CAAG,IAAjB,CACA9E,CAAC,CAAC,oBAAD,CAAuB8E,CAAU,CAACZ,eAAlC,CAAD,CAAoDhC,IAApD,CAAyD,UAAW,CAChE,GAAImE,CAAAA,CAAU,CAAGrG,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,IAAb,CAAjB,CACA+B,CAAU,CAACmB,0BAAX,CAAsCI,CAAtC,CAAkD,gBAAlD,CACH,CAHD,EAKArG,CAAC,CAAC,cAAD,CAAiB8E,CAAU,CAACZ,eAA5B,CAAD,CAA8ChC,IAA9C,CAAmD,UAAW,CAC1D,GAAImE,CAAAA,CAAU,CAAGrG,CAAC,CAAC,IAAD,CAAD,CAAQ+C,IAAR,CAAa,IAAb,CAAjB,CACA+B,CAAU,CAACmB,0BAAX,CAAsCI,CAAtC,CAAkD,qBAAlD,CACH,CAHD,CAIH,CAXD,CAkBA,KAAKJ,0BAAL,CAAkC,SAASK,CAAT,CAAaC,CAAb,CAA0B,CAExDrG,CAAG,CAACsG,WAAJ,CADiB,CAAC,CAACC,GAAG,CAAEF,CAAN,CAAmBG,SAAS,CAAE,MAA9B,CAAD,CAAwC,CAACD,GAAG,CAAE,eAAN,CAAuBC,SAAS,CAAE,MAAlC,CAAxC,CACjB,EAA4BC,IAA5B,CAAiC,SAASC,CAAT,CAAsB,IAC/CC,CAAAA,CAAiB,CAAGD,CAAW,CAAC,CAAD,CADgB,CAE/CE,CAAiB,CAAGF,CAAW,CAAC,CAAD,CAFgB,CAInD3G,CAAY,CAAC8G,OAAb,CAAqB,IAAMT,CAA3B,IAAsC,EAAtC,CAA0CO,CAA1C,OAA0EC,CAA1E,KACA,MAAO,KACV,CAND,EAMGE,IANH,CAMQ7G,CAAY,CAAC8G,SANrB,CAOH,CACJ,CAhYsH,CAkYvH,MAAO,CACHzC,IAAI,CApVG,QAAPA,CAAAA,IAAO,EAAW,IACd0C,CAAAA,CAAoB,CAAGlH,CAAC,CAACI,CAAS,CAACU,UAAX,CADV,CAEdqG,CAAiB,CAAGnH,CAAC,CAACI,CAAS,CAACW,mBAAX,CAFP,CAGlBmG,CAAoB,CAACE,MAArB,CAA4B,UAAW,CACnC,GAAI,KAAAF,CAAoB,CAACG,EAArB,CAAwB,UAAxB,CAAJ,CAAkD,CAC9CF,CAAiB,CAACxF,IAAlB,CAAuB,SAAvB,IACH,CACJ,CAJD,EAKAwF,CAAiB,CAACC,MAAlB,CAAyB,UAAW,CAChC,GAAI,KAAAD,CAAiB,CAACE,EAAlB,CAAqB,UAArB,CAAJ,CAA+C,CAC3CH,CAAoB,CAACvF,IAArB,CAA0B,SAA1B,IACH,CACJ,CAJD,EAOAL,CAAuB,GACvBM,CAAwB,GACxBI,CAAiB,GAEjBhC,CAAC,CAACI,CAAS,CAACC,aAAX,CAAD,CAA2B+G,MAA3B,CAAkC,UAAW,CACzC9F,CAAuB,GACvBM,CAAwB,GACxBI,CAAiB,EACpB,CAJD,EAMAhC,CAAC,CAACI,CAAS,CAACS,SAAX,CAAD,CAAuBuG,MAAvB,CAA8B,UAAW,CACrC9F,CAAuB,EAC1B,CAFD,EAIA,GAAIgG,CAAAA,CAAmB,CAAG,GAAIzD,CAAAA,CAA9B,CACAyD,CAAmB,CAAC9C,IAApB,EACH,CAoTM,CAGV,CArYK,CAAN","sourcesContent":["// This file is part of the Zoom plugin for Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Populates or de-populates password field based on whether the\n * password is required or not.\n *\n * @copyright  2018 UC Regents\n * @author     Kubilay Agi\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/form-autocomplete', 'core/str', 'core/notification'], function($, autocomplete, str, notification) {\n\n    /**\n     * CSS selectors used throughout the file.\n     *\n     * @type {object}\n     */\n    var SELECTORS = {\n        REPEAT_SELECT: 'select[name=\"recurrence_type\"]',\n        REPEAT_INTERVAL: '.repeat_interval',\n        REPEAT_INTERVAL_DAILY: '#interval_daily',\n        REPEAT_INTERVAL_WEEKLY: '#interval_weekly',\n        REPEAT_INTERVAL_MONTHLY: '#interval_monthly',\n        REPEAT_INTERVAL_OPTIONS: 'select[name=\"repeat_interval\"] option',\n        START_TIME: 'select[name*=\"start_time\"]',\n        DURATION: '*[name*=\"duration\"]',\n        RECURRING: 'input[name=\"recurring\"][type!=\"hidden\"]',\n        OPTION_JBH: 'input[name=\"option_jbh\"][type!=\"hidden\"]',\n        OPTION_WAITING_ROOM: 'input[name=\"option_waiting_room\"][type!=\"hidden\"]'\n    };\n\n    /**\n     * Repeat interval options.\n     *\n     * @type {object}\n     */\n    var REPEAT_OPTIONS = {\n        REPEAT_OPTION_NONE: 0,\n        REPEAT_OPTION_DAILY: 1,\n        REPEAT_OPTION_WEEKLY: 2,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The max values for each repeat option.\n     *\n     * @type {object}\n     */\n    var REPEAT_MAX_OPTIONS = {\n        REPEAT_OPTION_DAILY: 90,\n        REPEAT_OPTION_WEEKLY: 12,\n        REPEAT_OPTION_MONTHLY: 3\n    };\n\n    /**\n     * The init function.\n     */\n    var init = function() {\n        var optionJoinBeforeHost = $(SELECTORS.OPTION_JBH);\n        var optionWaitingRoom = $(SELECTORS.OPTION_WAITING_ROOM);\n        optionJoinBeforeHost.change(function() {\n            if (optionJoinBeforeHost.is(':checked') === true) {\n                optionWaitingRoom.prop('checked', false);\n            }\n        });\n        optionWaitingRoom.change(function() {\n            if (optionWaitingRoom.is(':checked') === true) {\n                optionJoinBeforeHost.prop('checked', false);\n            }\n        });\n\n        // First toggle the values based on initial selections.\n        toggleStartTimeDuration();\n        toggleRepeatIntervalText();\n        limitRepeatValues();\n        // Add listerner to \"Repeat Every\" drop-down.\n        $(SELECTORS.REPEAT_SELECT).change(function() {\n            toggleStartTimeDuration();\n            toggleRepeatIntervalText();\n            limitRepeatValues();\n        });\n        // Add listener for the \"Recurring\" checkbox\n        $(SELECTORS.RECURRING).change(function() {\n            toggleStartTimeDuration();\n        });\n\n        var breakoutroomsEditor = new BreakoutroomsEditor();\n        breakoutroomsEditor.init();\n    };\n\n    /**\n     * Toggle start time and duration elements.\n     */\n    var toggleStartTimeDuration = function() {\n        // Disable start time and duration if \"No Fixed Time\" recurring meeting/webinar selected.\n        var disabled = false;\n        var repeatVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if ($(SELECTORS.RECURRING).prop('checked') && repeatVal === REPEAT_OPTIONS.REPEAT_OPTION_NONE) {\n            disabled = true;\n        }\n        $(SELECTORS.START_TIME).prop('disabled', disabled);\n        $(SELECTORS.DURATION).prop('disabled', disabled);\n    };\n\n    /**\n     * Toggle the text based on repeat type.\n     * To show either Days, Weeks or Months\n     */\n    var toggleRepeatIntervalText = function() {\n        $(SELECTORS.REPEAT_INTERVAL).hide();\n        var repeatSelectVal = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_DAILY) {\n            $(SELECTORS.REPEAT_INTERVAL_DAILY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n            $(SELECTORS.REPEAT_INTERVAL_WEEKLY).show();\n        } else if (repeatSelectVal === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n            $(SELECTORS.REPEAT_INTERVAL_MONTHLY).show();\n        }\n    };\n\n    /**\n     * Limit the options shown in the drop-down based on repeat type selected.\n     * Max value for daily meeting is 90.\n     * Max value for weekly meeting is 12.\n     * Max value for monthly meeting is 3.\n     */\n    var limitRepeatValues = function() {\n        var selectedValue = parseInt($(SELECTORS.REPEAT_SELECT).val(), 10);\n        // Restrict options if weekly or monthly option selected.\n        $(SELECTORS.REPEAT_INTERVAL_OPTIONS).each(function() {\n            if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_WEEKLY) {\n                    $(this).hide();\n                }\n            } else if (selectedValue === REPEAT_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                if (this.value > REPEAT_MAX_OPTIONS.REPEAT_OPTION_MONTHLY) {\n                    $(this).hide();\n                }\n            } else {\n                $(this).show();\n            }\n        });\n    };\n\n    /**\n     * Tabs component.\n     * @param {object} tabsColumn\n     * @param {object} tabsContentColumn\n     * @param {int}    initialTabsCount\n     * @param {object} emptyAlert\n     */\n    var TabsComponent = function(tabsColumn, tabsContentColumn, initialTabsCount, emptyAlert) {\n        this.tabsColumn = tabsColumn;\n        this.tabsContentColumn = tabsContentColumn;\n        this.emptyAlert = emptyAlert;\n        this.countTabs = initialTabsCount;\n\n        /**\n         * Build tab\n         * @param {object} item\n         * @returns {object} tab element\n         */\n        this.buildTab = function(item) {\n            var tab = item.tab.element;\n            var tabLink = $(\".nav-link\", tab);\n\n            // Setting tab id.\n            tab.attr('id', 'tab-' + this.countTabs);\n\n            // Setting tab name.\n            $(\".tab-name\", tabLink).text(item.tab.name);\n\n            // Setting tab href.\n            tabLink.attr('href', '#link' + this.countTabs);\n\n            // Activating tab\n            $(\"li a\", this.tabsColumn).removeClass('active');\n            tabLink.addClass('active');\n\n            return tab;\n        };\n\n        /**\n         * Build tab content.\n         * @param {object} item\n         * @returns {object} content of tab element\n         */\n        this.buildTabContent = function(item) {\n            var tabContent = item.tabContent.element;\n\n            // Setting tabContent id.\n            tabContent.attr('id', 'link' + this.countTabs);\n\n            // Activating tabContent.\n            $(\".tab-pane\", this.tabsContentColumn).removeClass('active');\n            tabContent.addClass('active');\n\n            return tabContent;\n        };\n\n\n        /**\n         * Add tab\n         * @param {object} item\n         * @returns {object} tab element\n         */\n        this.addTab = function(item) {\n            var tab = this.buildTab(item);\n            var tabContent = this.buildTabContent(item);\n\n            this.emptyAlert.addClass('hidden');\n            $(\"ul\", this.tabsColumn).append(tab);\n            $(\".tab-content\", this.tabsContentColumn).append(tabContent);\n\n            return {\"element\": tab, \"content\": tabContent};\n        };\n\n        /**\n         * Delete tab\n         * @param {object} item\n         */\n        this.deleteTab = function(item) {\n            var tab = item;\n            var tabContent = $($('a', tab).attr('href'));\n\n            tab.remove();\n            tabContent.remove();\n\n            var countTabs = $(\"li\", this.tabsColumn).length;\n            if (!countTabs) {\n                this.emptyAlert.removeClass('hidden');\n            } else {\n                var countActiveTabs = $(\"li a.active\", this.tabsColumn).length;\n                if (!countActiveTabs) {\n                    $(\"li:first-child a\", this.tabsColumn).trigger('click');\n                }\n            }\n        };\n    };\n\n    /**\n     * Breakout rooms editor.\n     */\n    var BreakoutroomsEditor = function() {\n        this.roomsListColumn = $(\"#meeting-rooms-list\");\n        this.roomsList = $(\"ul\", this.roomsListColumn);\n        this.addBtn = $(\"#add-room\", this.roomsListColumn);\n        this.emptyAlert = $(\".empty-alert\", this.roomsListColumn);\n        this.deleteBtn = $(\".delete-room\", this.roomsListColumn);\n        this.roomsDataColumn = $(\"#meeting-rooms-data\");\n        this.roomItemToClone = $('#rooms-list-item').html();\n        this.roomItemDataToClone = $('#rooms-list-item-data').html();\n        this.initialRoomsCount = parseInt(this.roomsListColumn.attr('data-initial-rooms-count'));\n        this.tabsComponent = new TabsComponent(this.roomsListColumn, this.roomsDataColumn, this.initialRoomsCount, this.emptyAlert);\n\n        // Add room event.\n        this.init = function() {\n            this.addRoomEvent();\n            this.deleteRoomEvent();\n            var countRooms = $(\"li\", this.roomsListColumn).length;\n            if (countRooms) {\n                this.changeRoomNameEvent();\n                this.buildAutocompleteComponents();\n            } else {\n                this.emptyAlert.removeClass('hidden');\n            }\n        };\n        // Add room event.\n        this.addRoomEvent = function() {\n            var thisObject = this;\n\n            // Adding addroom button click event.\n            thisObject.addBtn.click(function() {\n                thisObject.tabsComponent.countTabs++;\n\n                var newRoomName = \"Room\" + ' ' + thisObject.tabsComponent.countTabs;\n                var newRoomElement = $(thisObject.roomItemToClone);\n                var newRoomDataElement = $(thisObject.roomItemDataToClone);\n                var newRoomIndex = thisObject.tabsComponent.countTabs;\n\n                // Setting new room name.\n                var roomNameInputId = 'room-name-' + newRoomIndex;\n                $(\"input[type=text]\", newRoomDataElement).prev().attr('for', roomNameInputId);\n                $(\"input[type=text]\", newRoomDataElement).attr('id', roomNameInputId);\n                $(\"input[type=text]\", newRoomDataElement).attr('name', roomNameInputId);\n                $(\"input[type=text]\", newRoomDataElement).val(newRoomName);\n                $(\"input[type=text]\", newRoomDataElement).next().attr('name', 'rooms[' + newRoomIndex + ']');\n                $(\"input[type=text]\", newRoomDataElement).next().val(newRoomName);\n\n                // Setting new room participants select id/name.\n                var roomParticipantsSelectId = 'participants-' + newRoomIndex;\n                $(\".room-participants\", newRoomDataElement).attr('id', roomParticipantsSelectId);\n                $(\".room-participants\", newRoomDataElement).attr('name', 'roomsparticipants[' + newRoomIndex + '][]');\n\n                // Setting new room participant groups select id/name.\n                var roomGroupsSelectId = 'groups-' + newRoomIndex;\n                $(\".room-groups\", newRoomDataElement).attr('id', roomGroupsSelectId);\n                $(\".room-groups\", newRoomDataElement).attr('name', 'roomsgroups[' + newRoomIndex + '][]');\n\n                // Add new room tab\n                var newRoom = {\"tab\": {\"name\": newRoomName, \"element\": newRoomElement},\n                    \"tabContent\": {\"element\": newRoomDataElement}};\n\n                var addedTab = thisObject.tabsComponent.addTab(newRoom);\n\n                // Adding new room tab delete button click event.\n                $(\"li:last .delete-room\", thisObject.roomsList).click(function() {\n                    var thisItem = $(this).closest('li');\n                    thisObject.tabsComponent.deleteTab(thisItem);\n                });\n\n                // Adding new room change name event.\n                $(\"input[type=text]\", addedTab.content).on(\"change keyup paste\", function() {\n                    var newHiddenValue = this.value;\n                    $(this).next().val(newHiddenValue);\n\n                    $(\".tab-name\", addedTab.element).text(this.value);\n                });\n\n                // Changing participants and groups select options values.\n                $(\"#\" + roomParticipantsSelectId + \" option\").each(function() {\n                    var thisValue = $(this).attr('value').replace('-', '');\n                    $(this).attr('value', thisValue);\n                });\n\n                $(\"#\" + roomGroupsSelectId + \" option\").each(function() {\n                    var thisValue = $(this).attr('value').replace('-', '');\n                    $(this).attr('value', thisValue);\n                });\n\n                // Convert select dropdowns to autocomplete component.\n                thisObject.buildAutocompleteComponent(roomParticipantsSelectId, 'addparticipant');\n                thisObject.buildAutocompleteComponent(roomGroupsSelectId, 'addparticipantgroup');\n            });\n        };\n\n        // Delete room event.\n        this.deleteRoomEvent = function() {\n            var thisObject = this;\n\n            // Adding deleteroom button click event.\n            thisObject.deleteBtn.click(function() {\n                var thisItem = $(this).closest('li');\n                thisObject.tabsComponent.deleteTab(thisItem);\n            });\n        };\n\n        // Change room name event.\n        this.changeRoomNameEvent = function() {\n            var thisObject = this;\n\n            $(\"li\", this.roomsListColumn).each(function() {\n                var tabIdArr = $(this).attr('id').split('-');\n                var tabIndex = tabIdArr[1];\n                $('input[name=\"room-name-' + tabIndex + '\"]', thisObject.roomsDataColumn).on(\"change keyup paste\", function() {\n                    var newHiddenValue = this.value;\n                    $(this).next().val(newHiddenValue);\n\n                    $(\"#tab-\" + tabIndex + \" .tab-name\").text(this.value);\n                });\n            });\n        };\n\n        /**\n         * Build autocomplete components.\n         */\n        this.buildAutocompleteComponents = function() {\n            var thisObject = this;\n            $(\".room-participants\", thisObject.roomsDataColumn).each(function() {\n                var thisItemId = $(this).attr('id');\n                thisObject.buildAutocompleteComponent(thisItemId, 'addparticipant');\n            });\n\n            $(\".room-groups\", thisObject.roomsDataColumn).each(function() {\n                var thisItemId = $(this).attr('id');\n                thisObject.buildAutocompleteComponent(thisItemId, 'addparticipantgroup');\n            });\n        };\n\n        /**\n         * Build autocomplete component.\n         * @param {string} id\n         * @param {string} placeholder\n         */\n        this.buildAutocompleteComponent = function(id, placeholder) {\n            var stringkeys = [{key: placeholder, component: 'zoom'}, {key: 'selectionarea', component: 'zoom'}];\n            str.get_strings(stringkeys).then(function(langstrings) {\n                var placeholderString = langstrings[0];\n                var noSelectionString = langstrings[1];\n\n                autocomplete.enhance('#' + id, false, '', placeholderString, false, true, noSelectionString, true);\n                return null;\n            }).fail(notification.exception);\n        };\n    };\n\n    return {\n        init: init\n    };\n});\n"],"file":"form.min.js"}